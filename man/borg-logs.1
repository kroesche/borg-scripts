.TH "BORG-LOGS" "1" "2024-12-09" "borg-scripts 0.1"

.SH NAME
.P
borg-logs \- Query and manage borg backup logs.

.SH SYNOPSIS
.SY borg-logs
.B \-l
.YS
.SY borg-logs
.B \-x
.I SET_ID
.RB  [\~\-e\~|\~\-m\~|\~\-a\~]
.YS
.SY borg-logs
.B \-d
.I SET_ID
.YS
.SY borg-logs
.B \-p
.I N
.YS
.SY borg-logs
.B \-h
.YS

.SH DESCRIPTION
.P
.B borg-logs
is a script to help with viewing and managing logs produced by the
.B borg-backup(1)
script. It operates on logs generated by borg-backup when run as a launchd
agent.
.P
The first form (\-l) lists all the backups sets found in the log file.
.P
The second form extracts log data from the specific
.I SET_ID
set number. This is the set number shown when listing backup sets using
.B \-l\c
\&. There are options to extract only added files (\-a), modified files (\-m),
or files with errors (\-e). Only one of these can be specified at a time. If
none of these options are used, the all of the lines in the backup set are
printed.
.P
The third form is used to deleted the log data for a specific backup set.
.P
The fourth form is used to prune the log data for all backup sets except for
the
.I N
most recent backup sets.
.
.SH OPTIONS
.IP SET_ID
the backup set number, as shown when listing backup sets (using \-l).
.IP "-x SET_ID"
extract the specific backup set number from the log and print to console
.IP "-d SET_ID"
delete the specific backup set number from the log
.IP "-p N"
prune all but the most recent N backup sets from the log
.IP "-h"
show help
.
.SH EXIT STATUS
.P
Returns non-zero if an error is detected, 0 otherwise.
.SH FILES
.I ~/Library/Logs/borg-backup.log
.RS
The borg backup log file, subject to operations of this script.
.RE
.
.SH EXAMPLES
.P
This example listing shows 3 backup sets, numbered 1\-3.
.P
.RS
.EX
.B $ borg-logs \-l
1: Tue Dec  3 23:30:04 CST 2024 +++BACKUP: home
2: Wed Dec  4 23:30:05 CST 2024 +++BACKUP: home
3: Thu Dec  5 20:20:55 CST 2024 +++BACKUP: home
.EE
.RE
.P
.P
Show added files in backup set 2.
.P
.RS
.EX
.B $ borg-logs \-x 2 -a
.EE
.RE
.P
.P
Prune all but the last backup data from the backup log.
.P
.RS
.EX
.B $ borg-logs -p 1
.EE
.RE
.SH SEE ALSO
.BR borg-scripts(1),
.BR borg-backup(1),
.BR install-agent(1)
